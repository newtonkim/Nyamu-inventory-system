import{T as B,l as v,f as l,o as a,a as i,u as r,Z as F,w as u,b as e,j as _,i as x,p as b,F as f,q as w,t as n,s as M,c as V,n as $,e as h,N as k}from"./app-BCu-Zuxa.js";import{_ as L}from"./AuthenticatedLayout-yrbweREa.js";import{_ as T}from"./Modal-Dhu_ms91.js";import{P as U}from"./PrimaryButton-wz0vEXWo.js";import{_ as A}from"./SecondaryButton-jKRGaaz6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},q={class:"p-6 text-gray-900"},z={class:"flex justify-end mb-4"},E={class:"p-4 mb-6 bg-gray-100 rounded-lg"},I={class:"grid grid-cols-1 gap-4 md:grid-cols-5"},O={class:"md:col-span-1"},Z={class:"md:col-span-1"},G=["value"],J={class:"md:col-span-1"},K={class:"md:col-span-1"},Q={key:0,class:"overflow-x-auto"},R={class:"min-w-full bg-white"},W={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},X={class:"flex items-center"},Y={class:"flex-shrink-0 w-10 h-10"},ee=["src"],te={class:"ml-4"},se={class:"text-sm font-medium leading-5 text-gray-900"},re={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},oe={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},de={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},ae={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},le={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},ne={class:"px-6 py-4 text-sm font-medium leading-5 whitespace-no-wrap border-b border-gray-200"},ie={class:"flex items-center justify-end"},ue=["onClick"],me=["onClick"],ce={key:1},pe={class:"mt-6"},ge={class:"flex justify-center"},xe={class:"p-6"},fe={class:"flex justify-end mt-6"},ke={__name:"Index",props:{products:Object,categories:Array,filters:Object},setup(m){const p=m,o=B({name:p.filters.name||"",category_id:p.filters.category_id||"",start_date:p.filters.start_date||"",end_date:p.filters.end_date||""}),C=()=>{o.get(route("products.index"),{preserveState:!0,replace:!0})},D=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),j=d=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(d).toLocaleDateString(void 0,t)},c=v(!1),g=v(null),N=d=>{g.value=d,c.value=!0},P=()=>{g.value&&k.delete(route("products.destroy",g.value.id),{preserveScroll:!0,onFinish:()=>{c.value=!1,g.value=null}})},S=d=>{k.visit(route("products.edit",d))};return(d,t)=>(a(),l(f,null,[i(r(F),{title:"Products"}),i(L,null,{header:u(()=>t[6]||(t[6]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Products",-1)])),default:u(()=>[e("div",H,[e("div",q,[e("div",z,[i(r(_),{class:"px-4 py-2 text-white bg-indigo-500 rounded-lg hover:bg-indigo-600",href:d.route("products.create")},{default:u(()=>t[7]||(t[7]=[e("span",null,"Create",-1),e("span",{class:"hidden md:inline"}," Product",-1)])),_:1,__:[7]},8,["href"])]),e("div",E,[t[13]||(t[13]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-semibold"},"Filters")],-1)),e("div",I,[e("div",O,[t[8]||(t[8]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r(o).name=s),id:"name",class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm"},null,512),[[b,r(o).name]])]),e("div",Z,[t[10]||(t[10]=e("label",{for:"category_id",class:"block text-sm font-medium text-gray-700"},"Category",-1)),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).category_id=s),id:"category_id",class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm"},[t[9]||(t[9]=e("option",{value:""},"All",-1)),(a(!0),l(f,null,w(m.categories,s=>(a(),l("option",{key:s.id,value:s.id},n(s.name),9,G))),128))],512),[[M,r(o).category_id]])]),e("div",J,[t[11]||(t[11]=e("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).start_date=s),id:"start_date",class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm"},null,512),[[b,r(o).start_date]])]),e("div",K,[t[12]||(t[12]=e("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).end_date=s),id:"end_date",class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm"},null,512),[[b,r(o).end_date]])]),e("div",{class:"flex items-end md:col-span-1"},[e("button",{onClick:C,class:"w-full px-4 py-2 text-white bg-indigo-500 rounded-lg hover:bg-indigo-600"}," Filter ")])])]),m.products.data.length>0?(a(),l("div",Q,[e("table",R,[t[16]||(t[16]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Name"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Barcode"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Category"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Price"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Stock"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Date"),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200"},"Actions")])],-1)),e("tbody",null,[(a(!0),l(f,null,w(m.products.data,s=>(a(),l("tr",{key:s.id},[e("td",W,[e("div",X,[e("div",Y,[e("img",{class:"w-10 h-10 rounded-full",src:s.image?`/storage/${s.image}`:"https://via.placeholder.com/150",alt:""},null,8,ee)]),e("div",te,[e("div",se,n(s.name),1)])])]),e("td",re,n(s.barcode),1),e("td",oe,n(s.category.name),1),e("td",de,n(D(s.selling_price)),1),e("td",ae,n(s.stock_quantity),1),e("td",le,n(j(s.created_at)),1),e("td",ne,[e("div",ie,[e("button",{onClick:y=>S(s.id),class:"text-indigo-600 hover:text-indigo-900"},t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,ue),e("button",{onClick:y=>N(s),class:"ml-4 text-red-600 hover:text-red-900"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,me)])])]))),128))])])])):(a(),l("div",ce,t[17]||(t[17]=[e("p",null,"No products found.",-1)]))),e("div",pe,[e("div",ge,[(a(!0),l(f,null,w(m.products.links,(s,y)=>(a(),V(r(_),{key:y,href:s.url,innerHTML:s.label,class:$(["px-4 py-2 mx-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",{"bg-blue-500 text-white":s.active}])},null,8,["href","innerHTML","class"]))),128))])])])])]),_:1}),i(T,{show:c.value,onClose:t[5]||(t[5]=s=>c.value=!1)},{default:u(()=>[e("div",xe,[t[20]||(t[20]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this product? ",-1)),e("div",fe,[i(A,{onClick:t[4]||(t[4]=s=>c.value=!1)},{default:u(()=>t[18]||(t[18]=[h(" Cancel ")])),_:1,__:[18]}),i(U,{onClick:P,class:"ml-4"},{default:u(()=>t[19]||(t[19]=[h(" Delete ")])),_:1,__:[19]})])])]),_:1},8,["show"])],64))}};export{ke as default};
